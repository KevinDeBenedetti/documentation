---
title: Caddy
description: A guide to configuring Caddy.
navigation:
  icon: i-catppuccin:caddy
seo:
  title: Caddy
  description: A guide to configuring Caddy.
---

::note
Documentation

- [caddy.com](https://caddyserver.com/)
- [Multi-domain resources](https://pratikpc.medium.com/using-caddy-to-create-virtual-hosts-for-your-multi-domain-names-as-a-reverse-proxy-from-a-single-2ce0b7a53a9e)
  ::

## Installing Caddy

```bash [Install the stable version]
sudo apt install -y debian-keyring debian-archive-keyring apt-transport-https curl
curl -1sLf 'https://dl.cloudsmith.io/public/caddy/stable/gpg.key' | sudo gpg --dearmor -o /usr/share/keyrings/caddy-stable-archive-keyring.gpg
curl -1sLf 'https://dl.cloudsmith.io/public/caddy/stable/debian.deb.txt' | sudo tee /etc/apt/sources.list.d/caddy-stable.list
sudo apt update
sudo apt install caddy
```

## Configuring for Docker

```bash [Edit the Caddyfile]
editor /etc/caddy/Caddyfile
```

In the `/etc/caddy` directory, edit the Caddyfile.

```txt [/etc/caddy/Caddyfile]
:80 {
    # Set this path to your site's directory.
    # root * /usr/share/caddy

    # Enable the static file server.
    # file_server

    # Another common task is to set up a reverse proxy:
    # reverse_proxy localhost:8080
    reverse_proxy :3000

    # Or serve a PHP site through php-fpm:
    # php_fastcgi localhost:9000
}
```

```bash [Restart Caddy]
systemctl reload caddy
```

To apply the changes, restart Caddy.

## Domain Name

::tip
HTTPS configuration is automatically generated, and TLS certificates are issued by Caddy.
[HTTPS Documentation](https://caddyserver.com/docs/quick-starts/https)
::

```bash [Test the domain name]
curl "https://cloudflare-dns.com/dns-query?name=example.com&type=A" \
  -H "accept: application/dns-json"
```

```txt [/etc/caddy/Caddyfile]
https://example.com {
    reverse_proxy :3000
}
```

Caddy supports HTTPS navigation.

## Redirect www

::tip
[Resources]
[Tutorial](https://jinnabalu.medium.com/caddy-http-to-https-redirections-7321bdce0aa8) <br>
[Documentation](https://caddyserver.com/docs/caddyfile/directives/redir)
::

```txt [/etc/caddy/Caddyfile]
https://www.example.com {
    redir https://example.com permanent
}
https://example.com {
    reverse_proxy :3000
}
```

Save and restart Caddy.

## Lighthouse

::tip
Documentation

[encode](https://caddyserver.com/docs/caddyfile/directives/encode)
::

To improve the performance of our static site, we need to enable encoding. Here is an example configuration using `gzip`.

```txt [/etc/caddy/Caddyfile]
https://www.example.com {
    redir https://example.com permanent
}
https://example.com {
    encode gzip
    reverse_proxy :3000
}
```
