---
title: UV
description: Modern manager for Python virtual environments and dependencies
navigation:
  icon: i-material-icon-theme:uv
seo:
  title: UV - Modern Python Manager
  description: Complete guide to manage Python virtual environments and dependencies with UV
---

[UV](https://github.com/astral-sh/uv) is a lightweight and high-performance tool designed to manage Python virtual environments and project dependencies. It provides an intuitive CLI to create and manage isolated `.venv` environments, deterministically sync dependencies, run commands in the environment, and manage a local optimized cache.

We use UV in this documentation and examples to ensure reproducible development environments and simplify common workflows.

## Why use UV instead of pip alone?

::list{type="success"}

- **Automatic management**: Automatic creation and management of `.venv` environments
- **Deterministic sync**: Eliminates "works on my machine" problems
- **Optimized performance**: Built-in cache and offline mode for faster installs
- **Unified interface**: Consolidated commands (`uv venv`, `uv sync`, `uv run`, `uv cache`) replacing multiple manual steps with pip and venv
- **Exceptional speed**: Written in Rust, UV is up to 10–100x faster than pip
- **Full compatibility**: Full support for `pyproject.toml` format and modern Python standards
  ::

## Installing UV

::code-group

```sh [macOS/Linux]
# Install via curl
curl -LsSf https://astral.sh/uv/install.sh | sh

# Install via Homebrew
brew install uv
```

```sh [Windows]
# Install via PowerShell
powershell -c "irm https://astral.sh/uv/install.ps1 | iex"

# Install via pip
pip install uv
```

```sh [With pip (all platforms)]
pip install uv
```

::

::alert{type="info"}
After installation, restart your terminal or reload your shell configuration so the `uv` command is available.
::

## Quick start

::code-group

```sh [New project]
# Initialize a new uv project
uv init --app my-project

# Move into the project
cd my-project

# Add FastAPI as a dependency
uv add fastapi --extra standard

# Run the FastAPI dev server
uv run fastapi dev
```

```sh [Existing project]
# Move into your project
cd my-existing-project

# Create the virtual environment
uv venv

# Sync dependencies
uv sync

# Add new dependencies
uv add requests pandas
```

::

## Essential commands

### Project initialization

::code-group

```sh [Commands]
# Initialize a new project
uv init

# Initialize with an app structure
uv init --app

# Initialize with a specific name
uv init --app my-application

# Initialize with a specific Python version
uv init --python 3.12
```

::

### Dependency management

::code-group

```sh [Add dependencies]
# Add a production dependency
uv add <package>

# Add with a specific version
uv add "fastapi>=0.100.0"

# Add with extras
uv add "fastapi[standard]"

# Add a development dependency
uv add <package> --dev

# Add multiple packages at once
uv add requests pandas numpy
```

```sh [Remove and update]
# Remove a dependency
uv remove <package>

# Upgrade all dependencies
uv lock --upgrade

# Upgrade a specific package
uv lock --upgrade-package <package>

# Sync dependencies from lockfile
uv sync

# Sync only production dependencies
uv sync --no-dev
```

::

### Environment management

::code-group

```sh [Create environments]
# Create a virtual environment
uv venv

# Create with a specific Python version
uv venv --python 3.12

# Create with a custom path
uv venv .venv

# Create with a custom name
uv venv my-env
```

```sh [Manual activation (optional)]
# On macOS/Linux
source .venv/bin/activate

# On Windows (PowerShell)
.venv\Scripts\Activate.ps1

# On Windows (CMD)
.venv\Scripts\activate.bat
```

::

::alert{type="info"}
With `uv run`, manual environment activation is usually not necessary. UV automatically activates the environment when running commands.
::

### Running commands

::code-group

```sh [Run in environment]
# Run a command in the project's environment
uv run <command>

# Run a Python script
uv run python script.py

# Run the FastAPI dev server
uv run fastapi dev

# Run pytest
uv run pytest

# Run with arguments
uv run python script.py --arg1 value1
```

```sh [Direct package execution]
# Run a tool without installing it globally
uvx black .
uvx ruff check .
uvx mypy src/

# Equivalent to npx for Node.js
```

::

### Package information

::code-group

```sh [Inspect]
# Show the dependency tree
uv tree

# Show a specific package tree
uv tree <package>

# List installed packages
uv list

# List with versions
uv list --format columns

# Show package details
uv show <package>
```

```sh [Search]
# Search PyPI
uv search <term>

# Show available versions
uv show <package> --versions
```

::

### Cache management

::code-group

```sh [Cache]
# Clean the cache
uv cache clean

# Show cache directory
uv cache dir

# Show cache size
uv cache size

# Clean only unused packages
uv cache prune
```

::

## Project configuration

pyproject.toml centralizes your project configuration:

::code-group

```toml [full pyproject.toml]
[project]
name = "my-fastapi-app"
version = "0.1.0"
description = "Modern FastAPI app with UV"
readme = "README.md"
requires-python = ">=3.10"
authors = [
    { name = "Your Name", email = "email@example.com" }
]
license = { text = "MIT" }
keywords = ["fastapi", "api", "web"]
classifiers = [
    "Development Status :: 4 - Beta",
    "Intended Audience :: Developers",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
]

dependencies = [
    "fastapi[standard]>=0.100.0",
    "uvicorn>=0.24.0",
    "pydantic>=2.0.0",
    "sqlalchemy>=2.0.0",
]

[project.optional-dependencies]
dev = [
    "pytest>=7.0.0",
    "pytest-cov>=4.0.0",
    "httpx>=0.24.0",
    "black>=23.0.0",
    "ruff>=0.1.0",
    "mypy>=1.0.0",
]

[project.urls]
Homepage = "https://github.com/username/my-fastapi-app"
Documentation = "https://my-fastapi-app.readthedocs.io"
Repository = "https://github.com/username/my-fastapi-app.git"
Issues = "https://github.com/username/my-fastapi-app/issues"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.uv]
# UV-specific configuration
dev-dependencies = [
    "pytest>=7.0.0",
    "pytest-cov>=4.0.0",
]

[tool.ruff]
line-length = 88
target-version = "py310"
select = ["E", "F", "I", "N", "W"]
ignore = ["E501"]

[tool.ruff.isort]
known-first-party = ["my_app"]

[tool.black]
line-length = 88
target-version = ["py310", "py311", "py312"]
include = '\.pyi?$'

[tool.mypy]
python_version = "3.10"
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = true

[tool.pytest.ini_options]
testpaths = ["tests"]
python_files = ["test_*.py"]
python_functions = ["test_*"]
addopts = "-v --cov=src --cov-report=html"
```

```toml [minimal pyproject.toml]
[project]
name = "my-fastapi-app"
version = "0.1.0"
description = "Modern FastAPI application"
requires-python = ">=3.10"
dependencies = [
    "fastapi[standard]>=0.100.0",
]

[project.optional-dependencies]
dev = [
    "pytest>=7.0.0",
    "ruff>=0.1.0",
]

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"
```

::

## Recommended workflow

::steps

### Project initialization

Create a new project with the appropriate structure:

```sh
# Initialize the project
uv init --app my-project

# Move into the directory
cd my-project

# Verify the created structure
tree -L 2
```

### Environment configuration

Set up your virtual environment:

```sh
# Create the environment with Python 3.12
uv venv --python 3.12

# Check the Python version
uv run python --version
```

### Adding dependencies

Install the required dependencies:

```sh
# Production dependencies
uv add fastapi --extra standard
uv add sqlalchemy pydantic-settings

# Development dependencies
uv add pytest httpx pytest-cov --dev
uv add ruff black mypy --dev
```

### Development

Run your application in the isolated environment:

```sh
# Run the development server
uv run fastapi dev

# Or use uvicorn directly
uv run uvicorn main:app --reload
```

### Formatting and linting

Ensure code quality:

```sh
# Format with Black
uv run black .

# Lint with Ruff
uv run ruff check .

# Type checks with mypy
uv run mypy src/
```

### Tests

Run tests with pytest:

```sh
# Run all tests
uv run pytest

# With coverage
uv run pytest --cov=src --cov-report=html

# Specific tests
uv run pytest tests/test_api.py
```

### Synchronization

Sync your environment after dependency changes:

```sh
# After a git pull or modifying pyproject.toml
uv sync

# To upgrade dependencies
uv lock --upgrade
uv sync
```

::

## Best practices

::card-group
::card{icon="i-heroicons-check-circle"}
#title
Lock your versions
#description
Use `uv lock` and `uv sync` to ensure all team members use the same dependency versions. Always commit the `uv.lock` file.
::

::card{icon="i-heroicons-rocket-launch"}
#title
Optimized cache
#description
UV's local cache speeds up repeated installs and enables offline work. The cache is shared across projects.
::

::card{icon="i-heroicons-shield-check"}
#title
Isolated environments
#description
Each project has its own `.venv` to prevent dependency conflicts. Remember to add `.venv/` to your `.gitignore`.
::

::card{icon="i-heroicons-command-line"}
#title
Unified interface
#description
One `uv` command replaces pip, venv, pip-tools, pipx and more. Simplify your Python development workflow.
::

::card{icon="i-heroicons-document-text"}
#title
Centralized configuration
#description
Use `pyproject.toml` as the single source of truth for dependency and tooling configuration.
::

::card{icon="i-heroicons-arrow-path"}
#title
Regular updates
#description
Run `uv lock --upgrade` regularly to pick up bug fixes and security updates.
::
::

## Migration from pip/virtualenv

If you have an existing project using `requirements.txt`:

::code-group

```sh [Migration steps]
# 1. Navigate to your project
cd my-existing-project

# 2. Create a basic pyproject.toml
uv init

# 3. Import dependencies from requirements.txt
cat requirements.txt | xargs uv add

# 4. For dev dependencies
cat requirements-dev.txt | xargs uv add --dev

# 5. Create the environment and sync
uv venv
uv sync

# 6. Verify everything works
uv run python -c "import fastapi; print(fastapi.__version__)"
```

```sh [Cleanup]
# After confirming migration, you can remove
rm requirements.txt requirements-dev.txt
rm -rf venv/  # Old virtualenv

# Update .gitignore
echo ".venv/" >> .gitignore
echo "uv.lock" >> .gitignore  # DO NOT ignore! Commit it
```

::

## Comparison with other tools

| Feature                       | UV     | pip + venv | Poetry | PDM  |
| ----------------------------- | ------ | ---------- | ------ | ---- |
| Install speed                 | ⚡⚡⚡ | ⚡         | ⚡⚡   | ⚡⚡ |
| Dependency management         | ✅     | ⚠️         | ✅     | ✅   |
| Deterministic lock            | ✅     | ❌         | ✅     | ✅   |
| Shared cache                  | ✅     | ❌         | ✅     | ✅   |
| Virtual environments          | ✅     | ✅         | ✅     | ✅   |
| PEP 621 support               | ✅     | ❌         | ⚠️     | ✅   |
| Global script execution (uvx) | ✅     | ❌         | ❌     | ❌   |

## Troubleshooting

### Common issues

::accordion
::accordion-item

---

title: "Command 'uv' not found after installation"

---

Reload your shell configuration or restart your terminal:

```sh
# Bash
source ~/.bashrc

# Zsh
source ~/.zshrc

# Or just restart your terminal
```

::

::accordion-item

---

title: "Dependency conflicts"

---

UV resolves conflicts automatically, but if you hit issues:

```sh
# Clean and recreate the environment
rm -rf .venv uv.lock
uv venv
uv sync
```

::

::accordion-item

---

title: "Corrupted cache"

---

If suspecting cache issues:

```sh
# Fully clean the cache
uv cache clean

# Then reinstall
uv sync
```

::

::accordion-item

---

title: "Python version not found"

---

Install the required Python version:

```sh
# On macOS with Homebrew
brew install python@3.12

# Then create the environment with this version
uv venv --python 3.12
```

::
::

## Additional resources

::list{type="primary"}

- [Official UV documentation](https://github.com/astral-sh/uv) - Complete reference and API
- [Migration guide from pip](https://github.com/astral-sh/uv#migration-guide) - Detailed migration steps
- [Performance comparison](https://github.com/astral-sh/uv#benchmarks) - Benchmarks and comparisons
- [Astral Blog](https://astral.sh/blog) - News and announcements about UV and Ruff
- [PEP 621](https://peps.python.org/pep-0621/) - `pyproject.toml` specification
  ::

::alert{type="success"}
UV is actively maintained by [Astral](https://astral.sh/), the team behind Ruff, the ultra-fast Python linter. The community is active and responsive on GitHub.
::
