---
title: Ruff
description: Ultra-fast Python linter and formatter written in Rust
navigation:
  icon: i-material-icon-theme:ruff
seo:
  title: Ruff - Ultra-fast Python Linter and Formatter
  description: Discover Ruff, the next-generation Python linter and formatter written in Rust, delivering exceptional performance for FastAPI and modern Python projects.
---

[Ruff](https://github.com/astral-sh/ruff) is an extremely fast Python linter and formatter written in Rust. It effectively replaces tools like Flake8, Black, isort, pydocstyle, pyupgrade, autoflake and many others, while offering performance improvements of 10x to 100x compared to traditional solutions.

Ruff is especially well-suited for FastAPI projects thanks to its excellent support for modern Python features, type annotations, and its ability to catch common API-development issues early in the development cycle.

## Why adopt Ruff?

- **Blazing speed**: 10â€“100x faster than traditional Python linters due to its Rust architecture
- **All-in-one solution**: Combines linting, formatting and import sorting in a single tool
- **Modern Python**: Full support for Python 3.8+ with advanced type-hint handling
- **Optimized for FastAPI**: Built-in rules for async/await patterns and Pydantic models
- **Seamless integration**: Works with editors, CI/CD pipelines and pre-commit hooks
- **Flexible configuration**: Fine-grained rule customization by file or directory
- **Automatic fixes**: Auto-fixes many style violations

## Installation

```sh
# Add Ruff as a development dependency
uv add --dev ruff

# Or install globally with uv
uv tool install ruff

# Alternative installation with pip
pip install ruff

# Install with pipx (full isolation)
pipx install ruff
```

## Basic usage

```sh
# Lint your code
uv run ruff check .

# Automatically fix fixable issues
uv run ruff check --fix .

# Format your code according to standards
uv run ruff format .

# Combined linting and formatting (recommended workflow)
uv run ruff check --fix . && uv run ruff format .

# Watch mode for development
uv run ruff check --watch .

# Show only errors (ignore warnings)
uv run ruff check --select=E .

# Generate a detailed report
uv run ruff check --output-format=json . > report.json
```

## Advanced configuration

Create a `ruff.toml` file at your project root or configure directly in `pyproject.toml`:

```toml
# pyproject.toml
[tool.ruff]
# Target Python version for analysis
target-version = "py38"

# Line length (matches Black's default)
line-length = 88

# Directories to exclude from analysis
exclude = [
    ".git",
    ".venv",
    ".mypy_cache",
    ".pytest_cache",
    "__pycache__",
    "build",
    "dist",
    "*.egg-info",
]

# Enable cache to improve performance
cache-dir = ".ruff_cache"

# Show suggested fixes
show-fixes = true

[tool.ruff.lint]
# Enable specific rule sets
select = [
    "E",     # pycodestyle errors
    "W",     # pycodestyle warnings
    "F",     # Pyflakes (logical errors)
    "I",     # isort (import sorting)
    "B",     # flake8-bugbear (potential bugs)
    "C4",    # flake8-comprehensions (comprehension optimizations)
    "UP",    # pyupgrade (modernize code)
    "ARG",   # flake8-unused-arguments (unused arguments)
    "SIM",   # flake8-simplify (code simplifications)
    "ICN",   # flake8-import-conventions (import conventions)
    "TCH",   # flake8-type-checking (optimize type imports)
    "PTH",   # flake8-use-pathlib (use pathlib)
    "PL",    # Pylint-style quality rules
    "RUF",   # Ruff-specific rules
]

# Disable specific rules
ignore = [
    "E501",  # Line too long (handled by formatter)
    "B008",  # Function calls in default values (useful for FastAPI)
    "PLR0913", # Too many arguments (sometimes necessary)
]

# Allow automatic fixes for all enabled rules
fixable = ["ALL"]

# Never auto-fix these rules
unfixable = []

# Allow unused variables if they start with an underscore
dummy-variable-rgx = "^(_+|(_+[a-zA-Z0-9_]*[a-zA-Z0-9]+?))$"

[tool.ruff.lint.per-file-ignores]
# Ignore specific rules in test files
"tests/**/*.py" = [
    "S101",    # Use of assert detected
    "ARG",     # Unused function arguments (fixtures)
    "FBT",     # Booleans as positional args
    "PLR2004", # Magic constants in tests
]

# Ignore some rules in __init__ files
"__init__.py" = [
    "F401",  # Unused import (re-export)
]

# Specific configuration for database migrations
"migrations/**/*.py" = [
    "ARG001", # Unused arguments
    "N806",   # Lowercase variable names
]

[tool.ruff.lint.isort]
# Import-sorting configuration
split-on-trailing-comma = true
force-single-line = false
force-sort-within-sections = false
lines-after-imports = 2

# Import section order
section-order = [
    "future",
    "standard-library",
    "third-party",
    "first-party",
    "local-folder",
]

# Known first-party imports
known-first-party = ["app", "core", "api"]

[tool.ruff.lint.mccabe]
# Maximum cyclomatic complexity (McCabe)
max-complexity = 10

[tool.ruff.lint.pydocstyle]
# Docstring convention (Google, NumPy or PEP257)
convention = "google"

[tool.ruff.format]
# Use double quotes for strings
quote-style = "double"

# Indentation with 4 spaces
indent-style = "space"

# Line ending style
line-ending = "auto"

# Preserve docstring quoting
docstring-code-format = true
```

### FastAPI-specific rules

Ruff includes several rules particularly useful for FastAPI development:

```toml
[tool.ruff.lint]
select = [
    "ASYNC",  # Async/await best practices
    "FAST",   # FastAPI-specific rules (detect incorrect dependencies)
    "TRIO",   # Async code best practices
    "RUF006", # Detect mutations of default values
]

# Example per-file ignores for FastAPI projects
[tool.ruff.lint.per-file-ignores]
"app/api/**/*.py" = [
    "B008",  # Allow function calls in defaults (Depends(), Body(), etc.)
]
```

## VS Code integration

Install the [Ruff extension](https://marketplace.visualstudio.com/items?itemName=charliermarsh.ruff) and add to your `settings.json`:

```json
{
  "[python]": {
    "editor.defaultFormatter": "charliermarsh.ruff",
    "editor.formatOnSave": true,
    "editor.codeActionsOnSave": {
      "source.fixAll.ruff": "explicit",
      "source.organizeImports.ruff": "explicit"
    }
  },
  "ruff.lint.args": ["--config=pyproject.toml"],
  "ruff.format.args": ["--config=pyproject.toml"],
  "ruff.enable": true,
  "ruff.organizeImports": true
}
```

### PyCharm / IntelliJ integration

1. Install the Ruff plugin from the marketplace
2. Configure external tools in Settings > Tools > External Tools
3. Add Ruff as an external formatter/tool

### Pre-commit hooks

Add to `.pre-commit-config.yaml` to run checks before each commit:

```yaml
repos:
  - repo: https://github.com/astral-sh/ruff-pre-commit
    # Recommended version - check latest available
    rev: v0.6.0
    hooks:
      # Run linter with automatic fixes
      - id: ruff
        args: [--fix, --exit-non-zero-on-fix]
      # Run the formatter
      - id: ruff-format

# Optional: install hooks types
default_install_hook_types: [pre-commit, pre-push]
```

Install hooks:

```sh
# Install pre-commit if needed
pip install pre-commit

# Install hooks in your repository
pre-commit install

# Run on all files manually
pre-commit run --all-files
```

## Common workflows

```sh
# Full quality check
uv run ruff check --fix .
uv run ruff format .

# Dry-run (no modifications)
uv run ruff check .
uv run ruff format --check .

# Run on specific files
uv run ruff check app/main.py app/models/

# Use custom config
uv run ruff check --config=custom-ruff.toml .

# Show active configuration
uv run ruff check --show-settings

# Get rule explanation
uv run ruff rule F401
uv run ruff rule --all  # List all rules

# Show violation statistics
uv run ruff check --statistics .

# Watch changes (diff mode)
uv run ruff check $(git diff --name-only --diff-filter=ACM | grep '\.py$')

# Ignore cache temporarily
uv run ruff check --no-cache .

# Export configuration as JSON
uv run ruff check --show-settings --output-format=json > config.json
```

## CI/CD integration

### GitHub Actions

```yaml
# .github/workflows/quality.yml
name: Code Quality
on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main, develop]

jobs:
  lint:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        python-version: ["3.9", "3.10", "3.11", "3.12"]

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Install uv
        uses: astral-sh/setup-uv@v3
        with:
          enable-cache: true

      - name: Install Python ${{ matrix.python-version }}
        run: uv python install ${{ matrix.python-version }}

      - name: Install dependencies
        run: uv sync --dev --all-extras

      - name: Run Ruff lint
        run: uv run ruff check . --output-format=github

      - name: Check formatting
        run: uv run ruff format --check .

      - name: Generate report
        if: always()
        run: |
          uv run ruff check . --output-format=json > ruff-report.json

      - name: Upload report
        if: always()
        uses: actions/upload-artifact@v4
        with:
          name: ruff-report-${{ matrix.python-version }}
          path: ruff-report.json
```

### GitLab CI

```yaml
# .gitlab-ci.yml
ruff-lint:
  stage: test
  image: python:3.11
  before_script:
    - pip install uv
    - uv sync --dev
  script:
    - uv run ruff check .
    - uv run ruff format --check .
  artifacts:
    reports:
      codequality: ruff-report.json
  rules:
    - if: $CI_MERGE_REQUEST_ID
    - if: $CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH
```

### Jenkins Pipeline

```groovy
pipeline {
    agent any

    stages {
        stage('Quality Check') {
            steps {
                sh 'uv sync --dev'
                sh 'uv run ruff check . || true'
                sh 'uv run ruff format --check .'
            }
        }
    }

    post {
        always {
            recordIssues(tools: [pyLint(pattern: '**/ruff-report.json')])
        }
    }
}
```

## Advanced commands and tips

```sh
# Enable verbose mode for debugging
uv run ruff check --verbose .

# Disable specific rules for a run
uv run ruff check --ignore=E501,W503 .

# Enable only specific rules
uv run ruff check --select=F,E .

# Show analyzer performance
uv run ruff check --timing .

# Use advanced exclude patterns
uv run ruff check --exclude='**/migrations/*,**/tests/fixtures/*' .

# Generate a base configuration
uv run ruff check --generate-config > ruff.toml

# Compatibility modes with other tools
uv run ruff check --output-format=pylint .
uv run ruff check --output-format=junit > junit.xml
```

## Performance optimizations

For large projects, consider these optimizations:

```toml
[tool.ruff]
# Enable cache (enabled by default)
cache-dir = ".ruff_cache"

# Respect .gitignore to limit search
respect-gitignore = true

# Use parallel workers (automatic, but adjustable)
```

```sh
# Parallel execution using multiple cores
RAYON_NUM_THREADS=8 uv run ruff check .

# Incremental analysis (only changed files)
uv run ruff check --diff $(git diff --name-only HEAD)
```

## Migration from other tools

Ruff eases migration from traditional tools:

```sh
# Generate equivalent configuration from flake8
ruff config --flake8-to-ruff .flake8

# Compare with Black
ruff format --diff .

# Check isort compatibility
ruff check --select=I --diff .
```

## Additional resources

- [Official documentation](https://docs.astral.sh/ruff/)
- [Full list of rules](https://docs.astral.sh/ruff/rules/)
- [Migration guide](https://docs.astral.sh/ruff/migration/)
- [Editor integrations](https://docs.astral.sh/ruff/integrations/)
- [Performance comparison](https://github.com/astral-sh/ruff#benchmarks)
